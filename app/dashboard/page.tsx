'use client';import useSWR from 'swr';const fetcher=(u:string)=>fetch(u).then(r=>r.json());export default function Page(){const { data, error, isLoading } = useSWR('/api/dashboard', fetcher, { refreshInterval: 15000 });return(<main style={{padding:'32px'}}><h1 style={{margin:'0 0 16px 0'}}>Dashboard</h1>{isLoading && <div>Ladenâ€¦</div>}{error && <div style={{color:'#b91c1c'}}>Fout: {(error as any).message}</div>}{data && !data.ok && <div style={{color:'#b91c1c'}}>Fout: {data.error}</div>}{data && data.ok && (<div><div style={{display:'grid', gridTemplateColumns:'repeat(3,1fr)', gap:16}}><div style={{background:'#fff', border:'1px solid #e5e7eb', borderRadius:16, padding:16}}><div style={{color:'#64748b'}}>Tenants</div><div style={{fontSize:32, fontWeight:900}}>{data.tenants}</div></div><div style={{background:'#fff', border:'1px solid #e5e7eb', borderRadius:16, padding:16}}><div style={{color:'#64748b'}}>Inkomende facturen</div><div style={{fontSize:32, fontWeight:900}}>{data.invoices}</div></div><div style={{background:'#fff', border:'1px solid #e5e7eb', borderRadius:16, padding:16}}><div style={{color:'#64748b'}}>Status</div><div style={{fontSize:32, fontWeight:900}}>Online</div></div></div><h2 style={{marginTop:32}}>Laatste 10 facturen</h2><div style={{overflowX:'auto'}}><table style={{width:'100%', borderCollapse:'collapse'}}><thead><tr><th style={{textAlign:'left', padding:8, borderBottom:'1px solid #e5e7eb'}}>ID</th><th style={{textAlign:'left', padding:8, borderBottom:'1px solid #e5e7eb'}}>Leverancier</th><th style={{textAlign:'left', padding:8, borderBottom:'1px solid #e5e7eb'}}>Factuurnr</th><th style={{textAlign:'left', padding:8, borderBottom:'1px solid #e5e7eb'}}>Datum</th><th style={{textAlign:'left', padding:8, borderBottom:'1px solid #e5e7eb'}}>Totaal (incl)</th></tr></thead><tbody>{data.latest.map((r:any)=>(<tr key={r.id}><td style={{padding:8, borderBottom:'1px solid #f1f5f9'}}>{r.id}</td><td style={{padding:8, borderBottom:'1px solid #f1f5f9'}}>{r.supplier_name||'-'}</td><td style={{padding:8, borderBottom:'1px solid #f1f5f9'}}>{r.invoice_no||'-'}</td><td style={{padding:8, borderBottom:'1px solid #f1f5f9'}}>{r.invoice_date? new Date(r.invoice_date).toLocaleDateString(): '-'}</td><td style={{padding:8, borderBottom:'1px solid #f1f5f9'}}>{r.total_inc?? '-'}</td></tr>))}</tbody></table></div></div>)}</main>); }